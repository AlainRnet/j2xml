if(void 0===eshiol)var eshiol={};eshiol.version="18.4.30",console&&console.log("eshiol Library v"+eshiol.version),Joomla.JText.strings.SUCCESS="Message",eshiol.renderMessages=function(e){var t=document.id("system-message-container");Object.each(e,function(e,n){"message"==n&&(n="success");var o=$$("#system-message-container div.alert.alert-"+n);o[0]?o=o[0]:(close=new Element("button",{class:"close","data-dismiss":"alert",type:"button",html:"&times;"}),close.inject(t),(o=new Element("div",{class:"alert alert-"+n})).inject(t),new Element("h4",{class:"alert-heading",html:Joomla.JText._(n,n.charAt(0).toUpperCase()+n.slice(1))}).inject(o));Array.each(e,function(e,t,n){new Element("p",{html:e}).inject(o)},this)},this)},eshiol.dump=function(e,t){var n="";t||(t=0);for(var o="",s=0;s<t+1;s++)o+="    ";if("object"==typeof e)for(var l in e){var r=e[l];"object"==typeof r?(n+=o+"'"+l+"' ...\n",n+=eshiol.dump(r,t+1)):n+=o+"'"+l+"' => \""+r+'"\n'}else n="===>"+e+"<===("+typeof e+")";return n},eshiol.sendAjax=function(e,t,n){for(text=$("toolbar-"+e).getElement("button").getElement("span").innerHTML,Joomla.removeMessages(),n=Base64.decode(n);0==n.charCodeAt(n.length-1);)n=n.substr(0,n.length-1);for(var o=0,s=0,l=[],r=0;null!=$("cb"+r);r++)if($("cb"+r).checked){var a=new Request.JSON({cb:$("cb"+r),url:n+"&cid="+$("cb"+r).value,method:"post",onRequest:function(){},onComplete:function(t,n,r){o==l.length?$("toolbar-"+e).getElement("button").getElement("span").innerHTML=text:$("toolbar-"+e).getElement("button").getElement("span").innerHTML=text+"... "+Math.floor(100*o/s)+"%"},onError:function(t,n){n.error&&n.message&&alert(n.message),n.messages&&eshiol.renderMessages(n.messages),++o==l.length?$("toolbar-"+e).getElement("button").getElement("span").innerHTML=t:($("toolbar-"+e).getElement("button").getElement("span").innerHTML=t+"... "+Math.floor(100*o/s)+"%",l[o].send())},onFailure:function(n){eshiol.renderMessages({error:["Unable to connect the server: "+t]}),++o==l.length?$("toolbar-"+e).getElement("button").getElement("span").innerHTML=text:($("toolbar-"+e).getElement("button").getElement("span").innerHTML=text+"... "+Math.floor(100*o/s)+"%",l[o].send())},onSuccess:function(t){this.options.cb.checked=!1,t.error&&t.message&&alert(t.message),t.messages&&eshiol.renderMessages(t.messages),++o==l.length?$("toolbar-"+e).getElement("button").getElement("span").innerHTML=text:($("toolbar-"+e).getElement("button").getElement("span").innerHTML=text+"... "+Math.floor(100*o/s)+"%",l[o].send())}});l.push(a),s++}l.length&&(o=0,$("toolbar-"+e).getElement("button").getElement("span").innerHTML=text+"... 0%",l[0].send())},eshiol.sendAjaxByDate=function(e,t,n){for(d1=$(e+"_begin").value,d2=$(e+"_end").value,text=$("toolbar-"+e).getElement("button").getElement("span").innerHTML,Joomla.removeMessages(),n=Base64.decode(n);0==n.charCodeAt(n.length-1);)n=n.substr(0,n.length-1);for(var o,s=0,l=0,r=[],a=new Date(d1),i=new Date(d2);a<=i;){year=a.getFullYear(),month="0"+String(a.getMonth()+1),o=month.length,month=month.substring(o,o-2),day="0"+String(a.getDate()),o=day.length,day=day.substring(o,o-2),jQuery('input[name="checkall-toggle"]').each(function(){this.checked=!1});for(var g=0;null!=$("cb"+g);g++)if($("cb"+g).checked){console&&console.log(n+"&cid="+$("cb"+g).value+"&date="+year+"-"+month+"-"+day);var m=new Request.JSON({cb:$("cb"+g),url:n+"&cid="+$("cb"+g).value+"&date="+year+"-"+month+"-"+day,method:"post",onRequest:function(){},onComplete:function(t,n,o){s==r.length?$("toolbar-"+e).getElement("button").getElement("span").innerHTML=text:$("toolbar-"+e).getElement("button").getElement("span").innerHTML=text+"... "+Math.floor(100*s/l)+"%"},onError:function(t,n){n.error&&n.message&&alert(n.message),n.messages&&eshiol.renderMessages(n.messages),++s==r.length?$("toolbar-"+e).getElement("button").getElement("span").innerHTML=t:($("toolbar-"+e).getElement("button").getElement("span").innerHTML=t+"... "+Math.floor(100*s/l)+"%",r[s].send())},onFailure:function(n){eshiol.renderMessages({error:["Unable to connect the server: "+t]}),++s==r.length?$("toolbar-"+e).getElement("button").getElement("span").innerHTML=text:($("toolbar-"+e).getElement("button").getElement("span").innerHTML=text+"... "+Math.floor(100*s/l)+"%",r[s].send())},onSuccess:function(t){this.options.cb.checked=!1,t.error&&t.message&&alert(t.message),t.messages&&eshiol.renderMessages(t.messages),++s==r.length?$("toolbar-"+e).getElement("button").getElement("span").innerHTML=text:($("toolbar-"+e).getElement("button").getElement("span").innerHTML=text+"... "+Math.floor(100*s/l)+"%",r[s].send())}});r.push(m),l++}a.setDate(a.getDate()+1)}r.length&&(s=0,$("toolbar-"+e).getElement("button").getElement("span").innerHTML=text+"... 0%",r[0].send())},eshiol.XMLToString=function(e){return x="undefined"!=typeof XMLSerializer?(new window.XMLSerializer).serializeToString(e):e.xml,x};