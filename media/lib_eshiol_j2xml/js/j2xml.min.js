console=window.console=window.console||{},["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"].forEach(function(e){console[e]||(console[e]=function(){})}),"undefined"==typeof eshiol&&(eshiol={}),void 0===eshiol.j2xml&&(eshiol.j2xml={}),void 0===eshiol.j2xml.convert&&(eshiol.j2xml.convert=[]),eshiol.j2xml.version="18.8.308",console.log("j2xml Library v"+eshiol.j2xml.version),eshiol.j2xml.send=function(e,o,t){console.log("eshiol.j2xml.send"),e.length>0&&(item=e.shift(),console.log(item),jQuery.post("index.php?option=com_j2xml&task=cpanel.import&format=json",{j2xml_data:escape(item)},function(e,o,t){console.log("done"),console.log(e),!e.success&&e.message?eshiol.renderMessages({error:[e.message]}):e.messages&&eshiol.renderMessages(e.messages)},"json").fail(function(e,o,t){console.log("fail"),console.log("jqXHR: "+eshiol.dump(e)),console.log("textStatus: "+o),console.log("error: "+t),Joomla.ajaxErrorsMessages(e,o,t)}).always(function(){console.log("always"),++o==t?(button.innerHTML=button_text+"ed... 100%",setTimeout(function(){button.innerHTML=button_text},2e3)):(x=Math.floor(o/t*100),button.innerHTML=button_text+"ing... "+x+"%"),document.getElementById("j-main-container").scrollIntoView(),eshiol.j2xml.send(e,o,t)}))},eshiol.j2xml.import=function(e,o){switch(console.log("eshiol.j2xml.import"),console.log(e),console.log(o),console.log("filetype: "+jQuery("#"+e+"_filetype").val()),jQuery("#"+e+"_filetype").val()){case"2":return!jQuery("#"+e+"_url").val()&&(alert("Please select a file"),!0);case"3":return!jQuery("#"+e+"_server").val()&&(alert("Please select a file"),!0);default:if(!jQuery("#"+e+"_local").val())return alert("Please select a file"),!0}if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return alert("The File APIs are not fully supported in this browser."),!1;Joomla.removeMessages();return input=jQuery("#"+e+"_local"),input?(input=input[0],input.files?input.files[0]?(output_default=jQuery("#"+e+"_upload").find("span")[0].html,file=input.files[0],jQuery("#"+e+"_local").val(""),jQuery("#"+e+"_local1").val(""),fr=new FileReader,fr.onload=function(){var o,t=fr.result;eshiol.j2xml.convert.forEach(function(e){t=e(t)});var l=Array();try{o=jQuery.parseXML(t),$xml=jQuery(o),root=$xml.find(":root")[0],"j2xml"==root.nodeName?(console.log(jQuery(root).attr("version")),$root=jQuery(root),header='<?xml version="1.0" encoding="UTF-8" ?>\n<j2xml version="'+$root.attr("version")+'">\n',footer="\n</j2xml>",$root.children("user").each(function(e){l.push(header+eshiol.XMLToString(this)+footer)}),$root.children("tag").each(function(e){l.push(header+eshiol.XMLToString(this)+footer)}),$root.children("category").each(function(e){l.push(header+eshiol.XMLToString(this)+footer)}),$root.children("content").each(function(e){l.push(header+eshiol.XMLToString(this)+footer)}),$root.children().each(function(e){-1==["user","tag","category","content"].indexOf(this.nodeName)&&l.push(header+eshiol.XMLToString(this)+footer)})):l.push(t)}catch(e){l.push(t)}if(tot=l.length,0==tot)return!0;n=0,button=jQuery("#"+e+"_upload").find("span")[0],button_text=button.innerHTML,button.innerHTML=button_text+"ing... 0%",eshiol.j2xml.send(l,n,tot)},fr.readAsText(file),!0):(alert("Please select a file before clicking 'Load'"),!1):(alert("This browser doesn't seem to support the `files` property of file inputs."),!1)):(alert("Um, couldn't find the fileinput element."),!1)};